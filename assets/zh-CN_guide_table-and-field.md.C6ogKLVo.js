import{_ as e,c as l,o as a,ae as o}from"./chunks/framework.CvJVpCFi.js";const u=JSON.parse('{"title":"表与字段管理","description":"","frontmatter":{},"headers":[],"relativePath":"zh-CN/guide/table-and-field.md","filePath":"zh-CN/guide/table-and-field.md"}'),d={name:"zh-CN/guide/table-and-field.md"};function i(r,t,n,s,c,g){return a(),l("div",null,[...t[0]||(t[0]=[o('<h1 id="表与字段管理" tabindex="-1">表与字段管理 <a class="header-anchor" href="#表与字段管理" aria-label="Permalink to &quot;表与字段管理&quot;">​</a></h1><p>PieMDM 允许管理员根据业务需求自定义数据模型。通过“表与字段管理”，您可以定义主数据实体及其属性。</p><h2 id="表管理" tabindex="-1">表管理 <a class="header-anchor" href="#表管理" aria-label="Permalink to &quot;表管理&quot;">​</a></h2><p>在 PieMDM 中，“表”代表一个主数据对象（如“供应商”、“物料”、“客户”等）。</p><h3 id="_1-表属性" tabindex="-1">1. 表属性 <a class="header-anchor" href="#_1-表属性" aria-label="Permalink to &quot;1. 表属性&quot;">​</a></h3><p>创建一个新表时，需要配置以下关键属性：</p><ul><li><strong>表名 (Code)</strong>：系统的唯一标识，仅限小写字母、数字和下划线（如 <code>mdm_material</code>）。系统会自动为物理表名添加 <code>t_</code> 前缀。</li><li><strong>名称 (Name)</strong>：显示的业务名称（如“物料主数据”）。</li><li><strong>展示模式 (DisplayMode)</strong>： <ul><li><code>List</code>：列表模式，适用于绝大多数扁平化数据。</li><li><code>Tree</code>：树形模式，适用于具有层级关系的数据（如“组织架构”、“分类字典”）。</li></ul></li><li><strong>表类型 (TableType)</strong>： <ul><li><code>Entity</code>：独立的主实体表。</li><li><code>Item</code>：行项目表，必须关联到一个父表。</li></ul></li></ul><h3 id="_2-关联配置-仅-item-类型" tabindex="-1">2. 关联配置（仅 Item 类型） <a class="header-anchor" href="#_2-关联配置-仅-item-类型" aria-label="Permalink to &quot;2. 关联配置（仅 Item 类型）&quot;">​</a></h3><p>如果表类型为 <code>Item</code>，需要额外配置：</p><ul><li><strong>父表 (ParentTable)</strong>：该行项目所属的主表。</li><li><strong>关联字段</strong>：定义子表与父表之间的关联键。</li></ul><h2 id="字段管理" tabindex="-1">字段管理 <a class="header-anchor" href="#字段管理" aria-label="Permalink to &quot;字段管理&quot;">​</a></h2><p>字段定义了表中存储的具体数据项。PieMDM 提供了丰富的字段类型和验证规则。</p><h3 id="_1-字段类型预设" tabindex="-1">1. 字段类型预设 <a class="header-anchor" href="#_1-字段类型预设" aria-label="Permalink to &quot;1. 字段类型预设&quot;">​</a></h3><p>字段类型分为以下几个大类：</p><table tabindex="0"><thead><tr><th style="text-align:left;">分组</th><th style="text-align:left;">包含类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>基本类型</strong></td><td style="text-align:left;">文本、多行文本、数字、整数、百分比、密码、URL、邮箱、手机号</td><td style="text-align:left;">基础数据存储</td></tr><tr><td style="text-align:left;"><strong>选择类型</strong></td><td style="text-align:left;">下拉单选、下拉多选、单选框组、复选框组、开关</td><td style="text-align:left;">预定义选项数据</td></tr><tr><td style="text-align:left;"><strong>日期时间</strong></td><td style="text-align:left;">日期、时间、日期时间</td><td style="text-align:left;">时间维度数据</td></tr><tr><td style="text-align:left;"><strong>关系类型</strong></td><td style="text-align:left;">多对一 (BelongsTo)、一对多 (HasMany)、多对多 (ManyToMany)</td><td style="text-align:left;">实现跨表数据关联</td></tr><tr><td style="text-align:left;"><strong>高级类型</strong></td><td style="text-align:left;">自动编码、附件、富文本、公式</td><td style="text-align:left;">复杂业务场景支持</td></tr></tbody></table><h3 id="_2-字段配置项" tabindex="-1">2. 字段配置项 <a class="header-anchor" href="#_2-字段配置项" aria-label="Permalink to &quot;2. 字段配置项&quot;">​</a></h3><ul><li><strong>字段编码</strong>：数据库中的列名。</li><li><strong>显示名称</strong>：表单和列表中的标签。</li><li><strong>UI 组件</strong>：定义该字段在界面上的呈现方式（如 <code>Input</code>, <code>Select</code>, <code>DatePicker</code>）。</li><li><strong>验证规则</strong>： <ul><li><strong>必填项</strong>：是否允许为空。</li><li><strong>长度限制</strong>：最大/最小字符数。</li><li><strong>数值范围</strong>：最大/最小值。</li><li><strong>正则匹配</strong>：自定义格式校验。</li></ul></li></ul><h2 id="系统预留字段" tabindex="-1">系统预留字段 <a class="header-anchor" href="#系统预留字段" aria-label="Permalink to &quot;系统预留字段&quot;">​</a></h2><p>为了支持审计、版本管理和审批工作流，PieMDM 会为每个表自动添加以下预留字段。用户不得创建与这些字段编码相同的自定义字段。</p><ul><li><strong>审计字段</strong>：<code>id</code>, <code>created_at</code>, <code>updated_at</code>, <code>deleted_at</code>, <code>created_by</code>, <code>updated_by</code>。</li><li><strong>业务状态</strong>：<code>status</code> (数据状态), <code>draft_status</code> (草稿状态)。</li><li><strong>流程追踪</strong>：<code>approval_code</code> (审批单号), <code>entity_id</code> (原始实体 ID)。</li></ul><h2 id="操作流程" tabindex="-1">操作流程 <a class="header-anchor" href="#操作流程" aria-label="Permalink to &quot;操作流程&quot;">​</a></h2><ol><li><strong>新建表</strong>：定义表的基本信息和存储引擎配置。</li><li><strong>定义字段</strong>：根据业务属性逐一添加字段，配置其类型和校验规则。</li><li><strong>生成物理表</strong>：保存配置后，系统会在数据库中自动创建或更新对应的物理表结构。</li><li><strong>权限分配</strong>：在“菜单管理”中为新表配置访问入口，并为相应角色分配查看和编辑权限。</li></ol>',22)])])}const f=e(d,[["render",i]]);export{u as __pageData,f as default};

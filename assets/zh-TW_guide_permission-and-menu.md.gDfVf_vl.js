import{_ as s,c as e,o as i,ae as t}from"./chunks/framework.CvJVpCFi.js";const g=JSON.parse('{"title":"權限與菜單管理","description":"","frontmatter":{},"headers":[],"relativePath":"zh-TW/guide/permission-and-menu.md","filePath":"zh-TW/guide/permission-and-menu.md"}'),n={name:"zh-TW/guide/permission-and-menu.md"};function o(l,a,r,d,h,p){return i(),e("div",null,[...a[0]||(a[0]=[t(`<h1 id="權限與菜單管理" tabindex="-1">權限與菜單管理 <a class="header-anchor" href="#權限與菜單管理" aria-label="Permalink to &quot;權限與菜單管理&quot;">​</a></h1><p>PieMDM 的菜單系統與權限系統緊密集成，支持動態菜單渲染。這意味著用戶登錄系統後，只能看到其擁有權限的菜單項。</p><h2 id="菜單管理" tabindex="-1">菜單管理 <a class="header-anchor" href="#菜單管理" aria-label="Permalink to &quot;菜單管理&quot;">​</a></h2><p>菜單管理功能允許管理員配置系統的導航結構。</p><h3 id="_1-菜單列表" tabindex="-1">1. 菜單列表 <a class="header-anchor" href="#_1-菜單列表" aria-label="Permalink to &quot;1. 菜單列表&quot;">​</a></h3><p>以樹形結構展示系統的所有菜單和按鈕。</p><ul><li><strong>目錄</strong>：一級導航，通常不直接對應頁面。</li><li><strong>菜單</strong>：具體的頁面入口。</li><li><strong>按鈕</strong>：頁面內的操作及其對應的資源標識。</li></ul><h3 id="_2-新增-編輯菜單" tabindex="-1">2. 新增/編輯菜單 <a class="header-anchor" href="#_2-新增-編輯菜單" aria-label="Permalink to &quot;2. 新增/編輯菜單&quot;">​</a></h3><p>在配置菜單時，主要包含以下字段：</p><ul><li><strong>上級菜單</strong>：選擇父級節點。</li><li><strong>菜單類型</strong>：目錄 / 菜單 / 按鈕。</li><li><strong>菜單名稱</strong>：顯示在側邊欄的標題。</li><li><strong>路由地址</strong>：前端路由路徑（如 <code>/system/user</code>）。</li><li><strong>組件路徑</strong>：Vue 組件的文件路徑（如 <code>@/views/system/role/index.vue</code>）。</li><li><strong>權限標識</strong>：後端鑑權的關鍵標識（如 <code>system:user:list</code>）。</li><li><strong>顯示狀態</strong>：控制菜單是否在側邊欄顯示（部分功能頁面可能需要隱藏）。</li><li><strong>排序</strong>：控制菜單的顯示順序。</li></ul><h2 id="權限控制機制" tabindex="-1">權限控制機制 <a class="header-anchor" href="#權限控制機制" aria-label="Permalink to &quot;權限控制機制&quot;">​</a></h2><h3 id="菜單可見性" tabindex="-1">菜單可見性 <a class="header-anchor" href="#菜單可見性" aria-label="Permalink to &quot;菜單可見性&quot;">​</a></h3><p>前端應用在初始化時，會調用 API 獲取當前用戶的權限列表。系統根據用戶的權限標識，過濾出可訪問的路由表並動態掛載。如果用戶沒有某個菜單的權限，該菜單將不會渲染在側邊欄中。</p><h3 id="按鈕級權限" tabindex="-1">按鈕級權限 <a class="header-anchor" href="#按鈕級權限" aria-label="Permalink to &quot;按鈕級權限&quot;">​</a></h3><p>在頁面內部，通過指令或函數控制按鈕的顯示。 例如，只有擁有 <code>system:user:add</code> 權限的用戶，才能看到“新建用戶”按鈕。</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- 示例：Vue 指令控制按鈕權限 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">el-button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-hasPerm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;[&#39;system:user:add&#39;]&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;新建用戶&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">el-button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h3 id="api-接口鑑權" tabindex="-1">API 接口鑑權 <a class="header-anchor" href="#api-接口鑑權" aria-label="Permalink to &quot;API 接口鑑權&quot;">​</a></h3><p>前端的權限控制僅用於提升用戶體驗，核心的安全性依賴於後端的接口鑑權。 後端中間件會攔截請求，驗證當前用戶的角色是否包含請求所需的<strong>權限標識</strong>。如果權限不足，將返回 <code>403 Forbidden</code>。</p><h2 id="配置建議" tabindex="-1">配置建議 <a class="header-anchor" href="#配置建議" aria-label="Permalink to &quot;配置建議&quot;">​</a></h2><ol><li><strong>層級清晰</strong>：建議按照“模塊 -&gt; 功能 -&gt; 操作”的層級結構組織權限標識（如 <code>system</code> -&gt; <code>user</code> -&gt; <code>add</code>）。</li><li><strong>標識唯一</strong>：確保每個菜單和按鈕的權限標識在系統中是唯一的。</li><li><strong>同步維護</strong>：新增後端接口時，應同步在菜單管理中添加對應的按鈕/資源權限，並分配給相應角色。</li></ol>`,20)])])}const u=s(n,[["render",o]]);export{g as __pageData,u as default};

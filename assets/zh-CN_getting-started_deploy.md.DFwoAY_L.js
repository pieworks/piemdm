import{_ as a,c as i,o as e,ae as t}from"./chunks/framework.CvJVpCFi.js";const k=JSON.parse('{"title":"部署指南","description":"部署指南","frontmatter":{"head":[["meta",{"name":"description","content":"部署指南"}],["meta",{"name":"keywords","content":"主数据,MDM,PieMDM,开源,Go,Vue,Docker"}]]},"headers":[],"relativePath":"zh-CN/getting-started/deploy.md","filePath":"zh-CN/getting-started/deploy.md"}'),n={name:"zh-CN/getting-started/deploy.md"};function l(p,s,h,o,d,r){return e(),i("div",null,[...s[0]||(s[0]=[t(`<h1 id="部署指南" tabindex="-1">部署指南 <a class="header-anchor" href="#部署指南" aria-label="Permalink to &quot;部署指南&quot;">​</a></h1><p>PieMDM 旨在通过容器化技术轻松部署。我们推荐使用 Docker Compose 进行生产环境部署。</p><h2 id="先决条件" tabindex="-1">先决条件 <a class="header-anchor" href="#先决条件" aria-label="Permalink to &quot;先决条件&quot;">​</a></h2><p>部署环境需要安装：</p><ul><li><a href="https://docs.docker.com/engine/install/" target="_blank" rel="noreferrer">Docker</a></li><li><a href="https://docs.docker.com/compose/install/" target="_blank" rel="noreferrer">Docker Compose</a></li></ul><h2 id="使用-docker-compose-部署" tabindex="-1">使用 Docker Compose 部署 <a class="header-anchor" href="#使用-docker-compose-部署" aria-label="Permalink to &quot;使用 Docker Compose 部署&quot;">​</a></h2><ol><li><p><strong>获取代码</strong></p><p>将项目代码克隆到服务器：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/pieteams/piemdm.git</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> piemdm</span></span></code></pre></div></li><li><p><strong>配置</strong></p><p>根据环境需要修改 <code>docker-compose.yaml</code> 或相关的配置文件（如数据库密码、端口映射等）。</p></li><li><p><strong>启动服务</strong></p><p>在项目根目录下运行：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deploy</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker-compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span></code></pre></div><p>该命令将构建并启动所有必要的服务容器（API, Web）。</p></li><li><p><strong>验证</strong></p><p>使用 <code>docker-compose ps</code> 检查服务状态。</p><ul><li>前端页面默认端口：<code>80</code></li><li>API 服务默认端口：<code>8787</code></li></ul></li></ol><h2 id="手动构建部署" tabindex="-1">手动构建部署 <a class="header-anchor" href="#手动构建部署" aria-label="Permalink to &quot;手动构建部署&quot;">​</a></h2><p>如果您需要手动构建二进制文件和静态资源：</p><h3 id="后端" tabindex="-1">后端 <a class="header-anchor" href="#后端" aria-label="Permalink to &quot;后端&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> api</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 运行生成的二进制文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./bin/server</span></span></code></pre></div><h3 id="前端" tabindex="-1">前端 <a class="header-anchor" href="#前端" aria-label="Permalink to &quot;前端&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> web</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 构建产物位于 web/dist 目录，可使用 Nginx 等 Web 服务器进行托管</span></span></code></pre></div>`,13)])])}const g=a(n,[["render",l]]);export{k as __pageData,g as default};

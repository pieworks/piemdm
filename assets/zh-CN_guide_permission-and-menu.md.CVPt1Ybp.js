import{_ as s,c as e,o as i,ae as t}from"./chunks/framework.CvJVpCFi.js";const g=JSON.parse('{"title":"权限与菜单管理","description":"","frontmatter":{},"headers":[],"relativePath":"zh-CN/guide/permission-and-menu.md","filePath":"zh-CN/guide/permission-and-menu.md"}'),n={name:"zh-CN/guide/permission-and-menu.md"};function o(l,a,r,d,h,p){return i(),e("div",null,[...a[0]||(a[0]=[t(`<h1 id="权限与菜单管理" tabindex="-1">权限与菜单管理 <a class="header-anchor" href="#权限与菜单管理" aria-label="Permalink to &quot;权限与菜单管理&quot;">​</a></h1><p>PieMDM 的菜单系统与权限系统紧密集成，支持动态菜单渲染。这意味着用户登录系统后，只能看到其拥有权限的菜单项。</p><h2 id="菜单管理" tabindex="-1">菜单管理 <a class="header-anchor" href="#菜单管理" aria-label="Permalink to &quot;菜单管理&quot;">​</a></h2><p>菜单管理功能允许管理员配置系统的导航结构。</p><h3 id="_1-菜单列表" tabindex="-1">1. 菜单列表 <a class="header-anchor" href="#_1-菜单列表" aria-label="Permalink to &quot;1. 菜单列表&quot;">​</a></h3><p>以树形结构展示系统的所有菜单和按钮。</p><ul><li><strong>目录</strong>：一级导航，通常不直接对应页面。</li><li><strong>菜单</strong>：具体的页面入口。</li><li><strong>按钮</strong>：页面内的操作及其对应的资源标识。</li></ul><h3 id="_2-新增-编辑菜单" tabindex="-1">2. 新增/编辑菜单 <a class="header-anchor" href="#_2-新增-编辑菜单" aria-label="Permalink to &quot;2. 新增/编辑菜单&quot;">​</a></h3><p>在配置菜单时，主要包含以下字段：</p><ul><li><strong>上级菜单</strong>：选择父级节点。</li><li><strong>菜单类型</strong>：目录 / 菜单 / 按钮。</li><li><strong>菜单名称</strong>：显示在侧边栏的标题。</li><li><strong>路由地址</strong>：前端路由路径（如 <code>/system/user</code>）。</li><li><strong>组件路径</strong>：Vue 组件的文件路径（如 <code>@/views/system/role/index.vue</code>）。</li><li><strong>权限标识</strong>：后端鉴权的关键标识（如 <code>system:user:list</code>）。</li><li><strong>显示状态</strong>：控制菜单是否在侧边栏显示（部分功能页面可能需要隐藏）。</li><li><strong>排序</strong>：控制菜单的显示顺序。</li></ul><h2 id="权限控制机制" tabindex="-1">权限控制机制 <a class="header-anchor" href="#权限控制机制" aria-label="Permalink to &quot;权限控制机制&quot;">​</a></h2><h3 id="菜单可见性" tabindex="-1">菜单可见性 <a class="header-anchor" href="#菜单可见性" aria-label="Permalink to &quot;菜单可见性&quot;">​</a></h3><p>前端应用在初始化时，会调用 API 获取当前用户的权限列表。系统根据用户的权限标识，过滤出可访问的路由表并动态挂载。如果用户没有某个菜单的权限，该菜单将不会渲染在侧边栏中。</p><h3 id="按钮级权限" tabindex="-1">按钮级权限 <a class="header-anchor" href="#按钮级权限" aria-label="Permalink to &quot;按钮级权限&quot;">​</a></h3><p>在页面内部，通过指令或函数控制按钮的显示。 例如，只有拥有 <code>system:user:add</code> 权限的用户，才能看到“新建用户”按钮。</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- 示例：Vue 指令控制按钮权限 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">el-button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-hasPerm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;[&#39;system:user:add&#39;]&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;新建用户&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">el-button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h3 id="api-接口鉴权" tabindex="-1">API 接口鉴权 <a class="header-anchor" href="#api-接口鉴权" aria-label="Permalink to &quot;API 接口鉴权&quot;">​</a></h3><p>前端的权限控制仅用于提升用户体验，核心的安全性依赖于后端的接口鉴权。 后端中间件会拦截请求，验证当前用户的角色是否包含请求所需的<strong>权限标识</strong>。如果权限不足，将返回 <code>403 Forbidden</code>。</p><h2 id="配置建议" tabindex="-1">配置建议 <a class="header-anchor" href="#配置建议" aria-label="Permalink to &quot;配置建议&quot;">​</a></h2><ol><li><strong>层级清晰</strong>：建议按照“模块 -&gt; 功能 -&gt; 操作”的层级结构组织权限标识（如 <code>system</code> -&gt; <code>user</code> -&gt; <code>add</code>）。</li><li><strong>标识唯一</strong>：确保每个菜单和按钮的权限标识在系统中是唯一的。</li><li><strong>同步维护</strong>：新增后端接口时，应同步在菜单管理中添加对应的按钮/资源权限，并分配给相应角色。</li></ol>`,20)])])}const u=s(n,[["render",o]]);export{g as __pageData,u as default};

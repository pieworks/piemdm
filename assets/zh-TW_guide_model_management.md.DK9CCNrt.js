import{_ as n,C as i,o as s,c as d,ae as g,E as l,w as r,a as o,j as t}from"./chunks/framework.f9sx20OT.js";const P=JSON.parse('{"title":"模型管理 (數據建模)","description":"","frontmatter":{},"headers":[],"relativePath":"zh-TW/guide/model_management.md","filePath":"zh-TW/guide/model_management.md","lastUpdated":1769480114000}'),u={name:"zh-TW/guide/model_management.md"};function h(m,e,c,_,p,b){const a=i("callout");return s(),d("div",null,[e[3]||(e[3]=g('<h1 id="模型管理-數據建模" tabindex="-1">模型管理 (數據建模) <a class="header-anchor" href="#模型管理-數據建模" aria-label="Permalink to &quot;模型管理 (數據建模)&quot;">​</a></h1><p>模型管理是 PieMDM 的核心功能，它定義了主數據的邏輯結構。通過可視化界面，您可以輕鬆創建實體表並定義其屬性字段，支持高度靈活的擴展。</p><h2 id="_1-概念說明" tabindex="-1">1. 概念說明 <a class="header-anchor" href="#_1-概念說明" aria-label="Permalink to &quot;1. 概念說明&quot;">​</a></h2><p>在 PieMDM 中，一個“模型”通常對應底層數據庫的一組表。當您在後台定義一個實體表時，系統會自動維護以下三類表：</p><ul><li><strong>主表 (t_{code})</strong>：存儲生效的、標準的主數據。</li><li><strong>草稿表 (t_{code}_draft)</strong>：存儲正在審批中或尚未發布的臨時數據。</li><li><strong>歷史表 (t_{code}_log)</strong>：記錄該實體數據的所有變更軌跡。</li></ul><h2 id="_2-實體表管理" tabindex="-1">2. 實體表管理 <a class="header-anchor" href="#_2-實體表管理" aria-label="Permalink to &quot;2. 實體表管理&quot;">​</a></h2><p>點擊“基礎設置 &gt; 模型管理”進入列表頁：</p><ol><li><strong>新建實體</strong>：填寫實體名稱和唯一的“實體編碼”。</li><li><strong>編碼規範</strong>：建議使用大駝峰或小寫下劃線命名（如 <code>User</code> 或 <code>material_info</code>）。<strong>注意：實體編碼一旦創建，不支持修改。</strong></li><li><strong>關聯關係</strong>：您可以設置表的層級關係，例如將“辦公地址”設置為“組織機構”的子表。</li></ol><h2 id="_3-字段-屬性-定義" tabindex="-1">3. 字段 (屬性) 定義 <a class="header-anchor" href="#_3-字段-屬性-定義" aria-label="Permalink to &quot;3. 字段 (屬性) 定義&quot;">​</a></h2><p>在實體詳情頁中，您可以管理該實體的所有屬性字段。</p><h3 id="_3-1-核心屬性" tabindex="-1">3.1 核心屬性 <a class="header-anchor" href="#_3-1-核心屬性" aria-label="Permalink to &quot;3.1 核心屬性&quot;">​</a></h3><ul><li><strong>核心類型 (Field Type)</strong>：系統內置了多種類型： <ul><li><strong>基礎</strong>：單行文本、多行文本、數字、布爾值。</li><li><strong>選項</strong>：單選（Select）、多選（Checkbox）、下拉關聯（Relation）。</li><li><strong>媒體</strong>：圖片上傳、附件上傳。</li><li><strong>日期</strong>：日期（DatePicker）、時間、日期時間。</li></ul></li><li><strong>必填項 (Required)</strong>：勾選後，在實體數據維護時該字段不能為空。</li><li><strong>唯一性 (Unique)</strong>：勾選後，系統會自動在主表和草稿表創建唯一索引，防止數據重複。</li><li><strong>查詢過濾 (Filter)</strong>：勾選後，該字段將出現在實體數據頁面的搜索區域。</li></ul><h3 id="_3-2-關聯字段-relation" tabindex="-1">3.2 關聯字段 (Relation) <a class="header-anchor" href="#_3-2-關聯字段-relation" aria-label="Permalink to &quot;3.2 關聯字段 (Relation)&quot;">​</a></h3><p>關聯字段是建模的高級特性，支持引用其他實體表的數據：</p><ul><li><strong>關聯表</strong>：選擇目標實體表。</li><li><strong>顯示字段</strong>：選擇在下拉列表中展示給用戶看的字段（如選擇 ID 關聯但顯示“姓名”）。</li></ul><h2 id="_4-發布模型-schema-public" tabindex="-1">4. 發布模型 (Schema Public) <a class="header-anchor" href="#_4-發布模型-schema-public" aria-label="Permalink to &quot;4. 發布模型 (Schema Public)&quot;">​</a></h2><p><strong>關鍵操作</strong>：在修改字段（新增、刪除或調整長度）後，模型並不會立即在數據庫生效。</p><p>點擊頁面右上角的 <strong>“發布”</strong> 按鈕，系統會對比當前定義與數據庫物理結構，自動執行 <code>ALTER TABLE</code> 語句來同步主表、草稿表和日誌表。</p>',18)),l(a,{emoji:"⚠️","background-color":"light-yellow"},{default:r(()=>[...e[0]||(e[0]=[o(" 注意：在執行“發布”操作前，請確保當前實體的所有審批任務已處理完畢，以免引起數據結構衝突。 ",-1)])]),_:1}),e[4]||(e[4]=t("h2",{id:"_5-常見問題",tabindex:"-1"},[o("5. 常見問題 "),t("a",{class:"header-anchor",href:"#_5-常見問題","aria-label":'Permalink to "5. 常見問題"'},"​")],-1)),l(a,{emoji:"❓","background-color":"light-purple"},{default:r(()=>[...e[1]||(e[1]=[o(" 字段編碼修改會丟失數據嗎？ ",-1)])]),_:1}),e[5]||(e[5]=t("p",null,[o("字段編碼直接對應數據庫列名。修改已發布的字段編碼會導致系統執行“刪除舊列，創建新列”的操作，從而導致"),t("strong",null,"舊列數據丟失"),o("。建議在開發環境確認無誤後再進行變更。")],-1)),l(a,{emoji:"❓","background-color":"light-purple"},{default:r(()=>[...e[2]||(e[2]=[o(" 字段排序有什麼影響？ ",-1)])]),_:1}),e[6]||(e[6]=t("p",null,"字段的排序值（Sort）決定了在“實體管理”表單中字段出現的先後順序，以及在表格視圖中的列順序。",-1))])}const q=n(u,[["render",h]]);export{P as __pageData,q as default};

import{_ as i,C as n,c as s,o as d,ae as g,G as e,j as l,w as r,a as t}from"./chunks/framework.CvJVpCFi.js";const q=JSON.parse('{"title":"实体管理 (数据维护)","description":"","frontmatter":{},"headers":[],"relativePath":"zh-CN/guide/entity_management.md","filePath":"zh-CN/guide/entity_management.md"}'),h={name:"zh-CN/guide/entity_management.md"};function u(_,o,c,m,p,f){const a=n("callout");return d(),s("div",null,[o[2]||(o[2]=g('<h1 id="实体管理-数据维护" tabindex="-1">实体管理 (数据维护) <a class="header-anchor" href="#实体管理-数据维护" aria-label="Permalink to &quot;实体管理 (数据维护)&quot;">​</a></h1><p>PieMDM 提供了灵活的数据维护功能，支持基于元数据配置自动生成动态表单。用户可以通过页面操作、批量导入等方式来维护业务实体数据。</p><h2 id="_1-核心流程" tabindex="-1">1. 核心流程 <a class="header-anchor" href="#_1-核心流程" aria-label="Permalink to &quot;1. 核心流程&quot;">​</a></h2><p>在 PieMDM 中，数据的维护遵循以下核心流程：</p><ol><li><strong>权限验证</strong>：系统首先检查当前用户是否具有该表的维护权限（通过“表权限管理”配置）。</li><li><strong>表单渲染</strong>：前端根据该表定义的“字段管理”信息，自动渲染出对应的输入控件。</li><li><strong>元数据驱动</strong>：下拉框、附件上传、日期选择等控件均由字段的 <code>options</code> 配置驱动。</li><li><strong>变更原因</strong>：无论是新增还是修改，系统都<strong>强制要求</strong>填写“修改原因”，这对于审计和审批至关重要。</li><li><strong>审批流判断</strong>： <ul><li>如果该表对应的操作（如 <code>Create</code> 或 <code>Update</code>）配置了<a href="./approval-flow">审批流</a>，数据将首先保存到 <code>_draft</code>（草稿）表中，并自动触发审批流程。</li><li>如果未配置审批流，数据将直接更新到正式业务表中。</li></ul></li></ol><h2 id="_2-操作指南" tabindex="-1">2. 操作指南 <a class="header-anchor" href="#_2-操作指南" aria-label="Permalink to &quot;2. 操作指南&quot;">​</a></h2><h3 id="_2-1-新增实体" tabindex="-1">2.1 新增实体 <a class="header-anchor" href="#_2-1-新增实体" aria-label="Permalink to &quot;2.1 新增实体&quot;">​</a></h3><ol><li>进入对应的业务菜单。</li><li>点击页面上方的 <strong>“新增”</strong> 按钮。</li><li><strong>填写修改原因</strong>：在表单顶部，必须输入本次操作的原因。</li><li><strong>填写表单数据</strong>： <ul><li><strong>基础字段</strong>：文本、数字、布尔值等直接输入。</li><li><strong>自动编码</strong>：如果字段定义为“自动编码”，则无需人工干预，系统在保存时会自动生成（页面展现为“自动生成”）。</li><li><strong>关联下拉</strong>：系统会根据配置的关联表自动加载选项。如果选项较多，支持搜索过滤。</li><li><strong>日期/时间</strong>：使用内置的日期时间选择器，且系统通常会自动初始化当前时间作为默认值。</li><li><strong>附件上传</strong>：支持文件拖拽或点击上传，支持配置多选和文件类型限制。</li></ul></li><li><strong>提交保存</strong>：点击“提交”按钮，系统将根据审批配置进行后续处理。</li></ol><h3 id="_2-2-编辑与更新" tabindex="-1">2.2 编辑与更新 <a class="header-anchor" href="#_2-2-编辑与更新" aria-label="Permalink to &quot;2.2 编辑与更新&quot;">​</a></h3><ol><li>在列表页找到目标数据，点击 <strong>“编辑”</strong>。</li><li>系统会提取当前最新数据填充到表单中。</li><li>修改完成后，必须填写<strong>新的修改原因</strong>。</li><li>提交后，若有审批流，由于数据处于“待审批”状态，列表页通常会显示该数据正在流程中，禁止再次编辑直至流程结束。</li></ol><h2 id="_3-高级维护功能" tabindex="-1">3. 高级维护功能 <a class="header-anchor" href="#_3-高级维护功能" aria-label="Permalink to &quot;3. 高级维护功能&quot;">​</a></h2><h3 id="_3-1-批量导入" tabindex="-1">3.1 批量导入 <a class="header-anchor" href="#_3-1-批量导入" aria-label="Permalink to &quot;3.1 批量导入&quot;">​</a></h3><p>PieMDM 支持通过 Excel 快速导入大量数据：</p><ol><li><strong>下载模板</strong>：点击“下载模板”，系统会生成一个包含所有非系统字段的 Excel 模板。</li><li><strong>填写数据</strong>：在 Excel 中按照约定的格式填写数据（注意：关联字段通常需要填写 Code 或 ID）。</li><li><strong>上传导入</strong>：选择文件并填写“导入原因”，点击确认。</li><li>系统会逐行校验数据合法性，并触发对应的审批或直接保存逻辑。</li></ol><h3 id="_3-2-批量更新与删除" tabindex="-1">3.2 批量更新与删除 <a class="header-anchor" href="#_3-2-批量更新与删除" aria-label="Permalink to &quot;3.2 批量更新与删除&quot;">​</a></h3><ul><li><strong>批量更新状态</strong>：在列表页勾选多条数据，可以批量修改其“状态”字段（如冻结、注销等）。</li><li><strong>批量删除</strong>：勾选数据后点击“批量删除”，同样需要填写删除原因。系统支持“软删除”机制，数据记录在数据库中仍会保留，但标记为已删除。</li></ul><h2 id="_4-常见问题-faq" tabindex="-1">4. 常见问题 (FAQ) <a class="header-anchor" href="#_4-常见问题-faq" aria-label="Permalink to &quot;4. 常见问题 (FAQ)&quot;">​</a></h2>',17)),e(a,{emoji:"💡","background-color":"light-blue"},{default:r(()=>[...o[0]||(o[0]=[t(" 为何我点击提交后数据没有立即出现在列表页？ ",-1)])]),_:1}),o[3]||(o[3]=l("p",null,[t("这通常是因为该表配置了"),l("strong",null,"审批流"),t("。数据目前存在于“审批草稿”中。只有当审批流程最终通过后，系统才会将数据从草稿表同步到正式业务表。您可以前往“我的申请”中查看审批进度。")],-1)),e(a,{emoji:"⚠️","background-color":"light-yellow"},{default:r(()=>[...o[1]||(o[1]=[t(" 为何某些下拉框加载不出内容？ ",-1)])]),_:1}),o[4]||(o[4]=l("p",null,"请联系系统管理员检查“字段管理”中的“数据源/关联配置”。确保关联表已配置正确，且当前用户有权访问该关联表的数据。",-1))])}const x=i(h,[["render",u]]);export{q as __pageData,x as default};

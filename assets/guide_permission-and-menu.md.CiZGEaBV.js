import{_ as n,o as i,c as t,ae as s}from"./chunks/framework.f9sx20OT.js";const c=JSON.parse('{"title":"Permission & Menu Management","description":"","frontmatter":{},"headers":[],"relativePath":"guide/permission-and-menu.md","filePath":"guide/permission-and-menu.md","lastUpdated":1769480114000}'),a={name:"guide/permission-and-menu.md"};function o(r,e,l,d,u,h){return i(),t("div",null,[...e[0]||(e[0]=[s(`<h1 id="permission-menu-management" tabindex="-1">Permission &amp; Menu Management <a class="header-anchor" href="#permission-menu-management" aria-label="Permalink to &quot;Permission &amp; Menu Management&quot;">​</a></h1><p>PieMDM&#39;s menu system is tightly integrated with the permission system, supporting dynamic menu rendering. This means that after logging in, users can only see the menu items they have permission for.</p><h2 id="menu-management" tabindex="-1">Menu Management <a class="header-anchor" href="#menu-management" aria-label="Permalink to &quot;Menu Management&quot;">​</a></h2><p>The menu management function allows administrators to configure the system&#39;s navigation structure.</p><h3 id="_1-menu-list" tabindex="-1">1. Menu List <a class="header-anchor" href="#_1-menu-list" aria-label="Permalink to &quot;1. Menu List&quot;">​</a></h3><p>Displays all menus and buttons of the system in a tree structure.</p><ul><li><strong>Directory</strong>: Top-level navigation, usually does not directly correspond to a page.</li><li><strong>Menu</strong>: Specific page entry.</li><li><strong>Button</strong>: Operations within the page and their corresponding resource identifiers.</li></ul><h3 id="_2-add-edit-menu" tabindex="-1">2. Add/Edit Menu <a class="header-anchor" href="#_2-add-edit-menu" aria-label="Permalink to &quot;2. Add/Edit Menu&quot;">​</a></h3><p>When configuring a menu, the main fields include:</p><ul><li><strong>Parent Menu</strong>: Select parent node.</li><li><strong>Menu Type</strong>: Directory / Menu / Button.</li><li><strong>Menu Name</strong>: Title displayed in the sidebar.</li><li><strong>Route Path</strong>: Frontend route path (e.g., <code>/system/user</code>).</li><li><strong>Component Path</strong>: File path of the Vue component (e.g., <code>@/views/system/role/index.vue</code>).</li><li><strong>Permission Key</strong>: Key identifier for backend authentication (e.g., <code>system:user:list</code>).</li><li><strong>Visible</strong>: Controls whether the menu is displayed in the sidebar (some functional pages may need to be hidden).</li><li><strong>Sort</strong>: Controls the display order of the menu.</li></ul><h2 id="permission-control-mechanism" tabindex="-1">Permission Control Mechanism <a class="header-anchor" href="#permission-control-mechanism" aria-label="Permalink to &quot;Permission Control Mechanism&quot;">​</a></h2><h3 id="menu-visibility" tabindex="-1">Menu Visibility <a class="header-anchor" href="#menu-visibility" aria-label="Permalink to &quot;Menu Visibility&quot;">​</a></h3><p>When the frontend application initializes, it calls the API to get the current user&#39;s permission list. The system filters the accessible routing table based on the user&#39;s permission keys and dynamically mounts them. If a user does not have permission for a menu, that menu will not be rendered in the sidebar.</p><h3 id="button-level-permission" tabindex="-1">Button-Level Permission <a class="header-anchor" href="#button-level-permission" aria-label="Permalink to &quot;Button-Level Permission&quot;">​</a></h3><p>Inside the page, directives or functions control the display of buttons. For example, only users with <code>system:user:add</code> permission can see the &quot;Create User&quot; button.</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- Example: Vue directive controlling button permission --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">el-button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-hasPerm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;[&#39;system:user:add&#39;]&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Create User&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">el-button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h3 id="api-interface-authentication" tabindex="-1">API Interface Authentication <a class="header-anchor" href="#api-interface-authentication" aria-label="Permalink to &quot;API Interface Authentication&quot;">​</a></h3><p>Frontend permission control is only for improving user experience; core security depends on backend interface authentication. Backend middleware intercepts requests and verifies whether the current user&#39;s role contains the <strong>Permission Key</strong> required for the request. If permission is insufficient, <code>403 Forbidden</code> is returned.</p><h2 id="configuration-suggestions" tabindex="-1">Configuration Suggestions <a class="header-anchor" href="#configuration-suggestions" aria-label="Permalink to &quot;Configuration Suggestions&quot;">​</a></h2><ol><li><strong>Clear Hierarchy</strong>: It is recommended to organize permission keys according to the &quot;Module -&gt; Function -&gt; Operation&quot; hierarchy (e.g., <code>system</code> -&gt; <code>user</code> -&gt; <code>add</code>).</li><li><strong>Unique Key</strong>: Ensure that the permission key for each menu and button is unique in the system.</li><li><strong>Synchronous Maintenance</strong>: When adding backend interfaces, synchronize the addition of corresponding button/resource permissions in menu management and assign them to appropriate roles.</li></ol>`,20)])])}const p=n(a,[["render",o]]);export{c as __pageData,p as default};

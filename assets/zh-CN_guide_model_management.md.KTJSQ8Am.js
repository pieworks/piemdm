import{_ as n,C as i,o as s,c as d,ae as g,E as l,w as r,a as o,j as t}from"./chunks/framework.f9sx20OT.js";const P=JSON.parse('{"title":"模型管理 (数据建模)","description":"","frontmatter":{},"headers":[],"relativePath":"zh-CN/guide/model_management.md","filePath":"zh-CN/guide/model_management.md","lastUpdated":1769480114000}'),u={name:"zh-CN/guide/model_management.md"};function h(m,e,c,_,p,b){const a=i("callout");return s(),d("div",null,[e[3]||(e[3]=g('<h1 id="模型管理-数据建模" tabindex="-1">模型管理 (数据建模) <a class="header-anchor" href="#模型管理-数据建模" aria-label="Permalink to &quot;模型管理 (数据建模)&quot;">​</a></h1><p>模型管理是 PieMDM 的核心功能，它定义了主数据的逻辑结构。通过可视化界面，您可以轻松创建实体表并定义其属性字段，支持高度灵活的扩展。</p><h2 id="_1-概念说明" tabindex="-1">1. 概念说明 <a class="header-anchor" href="#_1-概念说明" aria-label="Permalink to &quot;1. 概念说明&quot;">​</a></h2><p>在 PieMDM 中，一个“模型”通常对应底层数据库的一组表。当您在后台定义一个实体表时，系统会自动维护以下三类表：</p><ul><li><strong>主表 (t_{code})</strong>：存储生效的、标准的主数据。</li><li><strong>草稿表 (t_{code}_draft)</strong>：存储正在审批中或尚未发布的临时数据。</li><li><strong>历史表 (t_{code}_log)</strong>：记录该实体数据的所有变更轨迹。</li></ul><h2 id="_2-实体表管理" tabindex="-1">2. 实体表管理 <a class="header-anchor" href="#_2-实体表管理" aria-label="Permalink to &quot;2. 实体表管理&quot;">​</a></h2><p>点击“基础设置 &gt; 模型管理”进入列表页：</p><ol><li><strong>新建实体</strong>：填写实体名称和唯一的“实体编码”。</li><li><strong>编码规范</strong>：建议使用大驼峰或小写下划线命名（如 <code>User</code> 或 <code>material_info</code>）。<strong>注意：实体编码一旦创建，不支持修改。</strong></li><li><strong>关联关系</strong>：您可以设置表的层级关系，例如将“办公地址”设置为“组织机构”的子表。</li></ol><h2 id="_3-字段-属性-定义" tabindex="-1">3. 字段 (属性) 定义 <a class="header-anchor" href="#_3-字段-属性-定义" aria-label="Permalink to &quot;3. 字段 (属性) 定义&quot;">​</a></h2><p>在实体详情页中，您可以管理该实体的所有属性字段。</p><h3 id="_3-1-核心属性" tabindex="-1">3.1 核心属性 <a class="header-anchor" href="#_3-1-核心属性" aria-label="Permalink to &quot;3.1 核心属性&quot;">​</a></h3><ul><li><strong>核心类型 (Field Type)</strong>：系统内置了多种类型： <ul><li><strong>基础</strong>：单行文本、多行文本、数字、布尔值。</li><li><strong>选项</strong>：单选（Select）、多选（Checkbox）、下拉关联（Relation）。</li><li><strong>媒体</strong>：图片上传、附件上传。</li><li><strong>日期</strong>：日期（DatePicker）、时间、日期时间。</li></ul></li><li><strong>必填项 (Required)</strong>：勾选后，在实体数据维护时该字段不能为空。</li><li><strong>唯一性 (Unique)</strong>：勾选后，系统会自动在主表和草稿表创建唯一索引，防止数据重复。</li><li><strong>查询过滤 (Filter)</strong>：勾选后，该字段将出现在实体数据页面的搜索区域。</li></ul><h3 id="_3-2-关联字段-relation" tabindex="-1">3.2 关联字段 (Relation) <a class="header-anchor" href="#_3-2-关联字段-relation" aria-label="Permalink to &quot;3.2 关联字段 (Relation)&quot;">​</a></h3><p>关联字段是建模的高级特性，支持引用其他实体表的数据：</p><ul><li><strong>关联表</strong>：选择目标实体表。</li><li><strong>显示字段</strong>：选择在下拉列表中展示给用户看的字段（如选择 ID 关联但显示“姓名”）。</li></ul><h2 id="_4-发布模型-schema-public" tabindex="-1">4. 发布模型 (Schema Public) <a class="header-anchor" href="#_4-发布模型-schema-public" aria-label="Permalink to &quot;4. 发布模型 (Schema Public)&quot;">​</a></h2><p><strong>关键操作</strong>：在修改字段（新增、删除或调整长度）后，模型并不会立即在数据库生效。</p><p>点击页面右上角的 <strong>“发布”</strong> 按钮，系统会对比当前定义与数据库物理结构，自动执行 <code>ALTER TABLE</code> 语句来同步主表、草稿表和日志表。</p>',18)),l(a,{emoji:"⚠️","background-color":"light-yellow"},{default:r(()=>[...e[0]||(e[0]=[o(" 注意：在执行“发布”操作前，请确保当前实体的所有审批任务已处理完毕，以免引起数据结构冲突。 ",-1)])]),_:1}),e[4]||(e[4]=t("h2",{id:"_5-常见问题",tabindex:"-1"},[o("5. 常见问题 "),t("a",{class:"header-anchor",href:"#_5-常见问题","aria-label":'Permalink to "5. 常见问题"'},"​")],-1)),l(a,{emoji:"❓","background-color":"light-purple"},{default:r(()=>[...e[1]||(e[1]=[o(" 字段编码修改会丢失数据吗？ ",-1)])]),_:1}),e[5]||(e[5]=t("p",null,[o("字段编码直接对应数据库列名。修改已发布的字段编码会导致系统执行“删除旧列，创建新列”的操作，从而导致"),t("strong",null,"旧列数据丢失"),o("。建议在开发环境确认无误后再进行变更。")],-1)),l(a,{emoji:"❓","background-color":"light-purple"},{default:r(()=>[...e[2]||(e[2]=[o(" 字段排序有什么影响？ ",-1)])]),_:1}),e[6]||(e[6]=t("p",null,"字段的排序值（Sort）决定了在“实体管理”表单中字段出现的先后顺序，以及在表格视图中的列顺序。",-1))])}const q=n(u,[["render",h]]);export{P as __pageData,q as default};
